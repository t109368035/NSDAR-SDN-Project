clear;
close all;

x = 1:4;

ETT_total = [9.916363636363636, 19.639714138286894, 29.90524052405241, 39.6160595365419];
METX_total = [9.895346534653466, 18.529801980198023, 25.684268103280914, 31.496049019607845];
SETX_total = [9.895346534653466, 17.92980198019802, 23.88426810328092, 27.896049019607844];
%{
total = [ETT_total;ETX_total];
total = [[9.916363636363636,9.895346534653466,9.755334234653466];[19.639714138286894,18.529801980198023,17.92980198019802];[29.90524052405241,25.684268103280914,23.88426810328092];[39.6160595365419,31.496049019607845,27.896049019607844]];
b = bar(x, total, 'hist');
b(1).FaceColor = [0.9 0.1 0];
b(2).FaceColor = [0 0.8 0.4];
%}
total = [9.916363636363636,9.895346534653466,9.755334234653466; 19.639714138286894,18.529801980198023,17.92980198019802; 29.90524052405241,25.684268103280914,23.88426810328092; 39.6160595365419,31.496049019607845,27.896049019607844];
total_std = [0.9835685284171939,0.9069592762152396,1.1316210285265362; 1.3509396398411542,0.4736523066144657,0.6798533951749364; 0.6985749439973871,0.5216982684094631,0.6554698933584402; 0.854672082233657,0.5857828264772343,0.6795554387542063];

b = bar(total, 'grouped');hold on
b(1).FaceColor = [1 0 0];
b(2).FaceColor = [1 1 0];
b(3).FaceColor = [0 1 1];
[ngroups,nbars] = size(total);
x = nan(nbars, ngroups);
for i = 1:nbars
    x(i,:) = b(i).XEndPoints;
end

errorbar(x',total,total_std,'k','linestyle','none');

legend('ETT','ETX(Multi-band)','ETX(Single-band)')
ylim([0 50]);
xlabel('Number of Routing Path');ylabel('Total Bandwidth(Mbits/sec)');